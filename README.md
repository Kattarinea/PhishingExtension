# PhishingExtension
Расширение под Google Chrome, выявляющее фишинг на основе предсказаний моделей машинного обучения.

![image](https://github.com/Kattarinea/PhishingExtension/assets/65298723/24a0b6ec-f654-4638-ac26-a845431db3b3)

С сайта PhishTank была взята база данных фишинговых URL, актуальных на конец марта 2023 года, размером в 50000 адресов. База данных легальных URL была получена из открытого набора данных Университета Нью-Брансуика за 2016 год. Более современной выборки безопасных сайтов найти не удалось, т.к. данного рода информация не доступна в открытом виде. Итоговая выборка содержала в себе 10 000 фишинговых и 10 000 безопасных URL.

В ходе анализа распределения параметров было выявлено несколько проблем. А именно: длина безопасных URL оказалась больше, чем у фишинговых; использование протокола HTTPS чаще встречается у фишинговых сайтов. Такого рода результаты не соответствуют теоретически предполагаемым. Это связано с тем, что выборка безопасных сайтов является довольно устаревшей. В соответствии с этим было решено исключить данные параметры из рассмотрения при обучении моделей, так как они будут отрицательно влиять на предсказание. На слайде представлена матрица корреляции, построенная по числовым параметрам. Из матрицы видно, что наиболее сильно с целевой переменной коррелируют domainLen, subDomainCount и HTTPS. При этом первые два сильно коррелируют друг с другом, из чего можно сделать вывод, что нужно выбрать какой-то один из этих признаков. 

Согласно рисунку, признаки urlLen, domainAge и fromWHOIS имеют отрицательную корреляцию с признаком type. Это означает, что с уменьшением этих признаков увеличивается type.

![image](https://github.com/Kattarinea/PhishingExtension/assets/65298723/f02fd21e-edfd-4a53-a15f-06d638411a76)

Первым делом модели обучались на полном наборе признаков, получая высокую точность. При проверке таких моделей на реальных URL-адресах было выявлено, что большинство официальных сайтов блокируются, т.е. определяются как фишинговые. В связи с этим было решено убрать из рассмотрения несколько параметров, а именно: urlLen, HTTPS, subDomenCount, ISP и ORG. Первые два были удалены из-за того, что они неверно характеризовали безопасные сайты (использовалась устаревшая БД). SubDomenCount был исключен из-за сильной корреляции с параметром domenLen. Оставшиеся два пришлось убрать после того, как предыдущие изменения не принесли положительного результата. Решение убрать эти два признака основывалось на том, что именно они добавляют модели «жесткость». В сравнении с другими признаками ISP и ORG имеют довольно много уникальных значений на 20000 записей.

Оценивая модели по метрике recall на новом списке, все имеют точность в 84%. При этом логистическая регрессия лучше справляется на дополнительной тестовой выборке с предсказанием валидных адресов.

![image](https://github.com/Kattarinea/PhishingExtension/assets/65298723/e1523ac3-5d8e-40df-ba95-c0f809a5f9b6)

![image](https://github.com/Kattarinea/PhishingExtension/assets/65298723/2394de74-e37a-444c-b845-2b0c0683f311)
